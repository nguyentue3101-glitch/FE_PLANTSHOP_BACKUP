/* ============================================
   RESPONSIVE CSS - MOBILE ONLY
   Giữ nguyên layout desktop, chỉ scale down cho mobile
   ============================================ */

/* Mobile devices (max-width: 768px) */
@media only screen and (max-width: 768px) {
  /* Scale down toàn bộ app container */
  #app {
    transform: scale(0.5);
    transform-origin: top left;
    width: 200%;
    height: auto;
    min-height: auto;
    /* Bỏ min-height cố định, để content tự quyết định */
  }

  /* Đảm bảo body và html không bị ảnh hưởng */
  html,
  body {
    width: 100%;
    height: auto;
    min-height: auto;
    overflow-x: hidden;
    overflow-y: auto;
    /* Bỏ khoảng trắng thừa */
    margin: 0;
    padding: 0;
  }

  /* Fix cho UserLayout - bỏ min-h-screen */
  .flex.flex-col.min-h-screen {
    min-height: auto !important;
    height: auto !important;
  }

  /* Fix cho header - giữ nguyên layout và tránh overflow */
  header {
    transform-origin: top left;
    max-width: 200%;
    overflow-x: hidden;
    position: relative;
  }

  /* Fix header bottom navigation - tránh giỏ hàng bị đẩy ra ngoài */
  header > div:last-child {
    overflow-x: hidden;
    max-width: 100%;
  }

  /* Fix cho phần navigation trong header */
  header .flex.justify-between {
    flex-wrap: nowrap;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
  }

  header .flex.justify-between::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
  }

  /* Đảm bảo giỏ hàng không bị đẩy ra ngoài */
  .cart-icon-container {
    flex-shrink: 0;
    margin-left: auto;
  }

  /* Fix cho footer - giữ nguyên layout và bỏ khoảng trắng */
  footer {
    transform-origin: top left;
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }

  /* Bỏ khoảng trắng sau footer */
  footer::after {
    content: none;
  }

  /* Fix khoảng trắng dưới footer - đảm bảo không có margin/padding thừa */
  body > *:last-child,
  #app > *:last-child,
  .flex.flex-col > *:last-child {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }

  /* Đảm bảo không có khoảng trắng thừa sau footer */
  footer + * {
    display: none !important;
  }

  /* Fix cho các section có space-y hoặc margin-bottom thừa */
  section:last-of-type {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
  }

  /* Đảm bảo các modal và dropdown vẫn hiển thị đúng kích thước */
  /* Modal và dropdown sẽ được scale riêng để dễ tương tác */
  [class*="modal"],
  [class*="Modal"],
  .absolute[class*="Menu"],
  .fixed[class*="Menu"] {
    transform: scale(2) !important;
    transform-origin: center !important;
    z-index: 9999 !important;
  }

  /* Fix cho các element có position fixed/absolute trong header */
  header .sticky,
  header .fixed,
  header .absolute {
    transform-origin: top left;
  }

  /* Đảm bảo images không bị vỡ */
  img {
    max-width: 100%;
    height: auto;
    object-fit: contain;
  }

  /* Fix scroll behavior cho mobile */
  * {
    -webkit-overflow-scrolling: touch;
  }

  /* Đảm bảo các button và link vẫn có thể click được */
  button,
  a,
  [role="button"] {
    touch-action: manipulation;
  }

  /* Giảm kích thước items trên home page để phù hợp hơn */
  /* Các product cards và category cards */
  section[class*="px-10"] .flex-shrink-0 {
    min-width: 0;
  }

  /* Điều chỉnh kích thước items trong section Danh Mục và Sản Phẩm Nổi Bật */
  section .flex.transition-transform {
    overflow-x: hidden !important;
    flex-wrap: wrap !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  section .flex.transition-transform .flex-shrink-0 {
    width: calc(50% - 0.75rem) !important;
    min-width: calc(50% - 0.75rem) !important;
    max-width: calc(50% - 0.75rem) !important;
    flex-shrink: 0;
  }

  /* Fix riêng cho section Sản Phẩm Nổi Bật - đảm bảo items không bị đẩy ra ngoài */
  section.px-10.py-12.relative .flex.transition-transform {
    display: flex !important;
    flex-wrap: wrap !important;
    overflow-x: hidden !important;
    gap: 0.75rem !important;
    padding-left: 0 !important;
    padding-right: 0 !important;
  }

  section.px-10.py-12.relative .flex.transition-transform .flex-shrink-0 {
    width: calc(50% - 0.375rem) !important;
    min-width: calc(50% - 0.375rem) !important;
    max-width: calc(50% - 0.375rem) !important;
  }

  /* Giảm padding và spacing cho items */
  section .flex-shrink-0 .p-4 {
    padding: 0.75rem;
  }

  /* Giảm kích thước hình ảnh trong items */
  section .flex-shrink-0 img {
    max-width: 80%;
    max-height: 80%;
  }
}

/* Tablet devices (768px - 1024px) - scale nhẹ hơn */
@media only screen and (min-width: 769px) and (max-width: 1024px) {
  #app {
    transform: scale(0.75);
    transform-origin: top left;
    width: 133.33%;
  }

  html,
  body {
    width: 100%;
    overflow-x: hidden;
    margin: 0;
    padding: 0;
  }

  header {
    max-width: 133.33%;
    overflow-x: hidden;
  }

  footer {
    margin-bottom: 0;
    padding-bottom: 0;
  }

  [class*="modal"],
  [class*="Modal"],
  .absolute[class*="Menu"],
  .fixed[class*="Menu"] {
    transform: scale(1.33) !important;
    transform-origin: center !important;
  }
}

/* Desktop - giữ nguyên (không scale) */
@media only screen and (min-width: 1025px) {
  #app {
    transform: none;
    width: 100%;
  }

  html,
  body {
    margin: 0;
    padding: 0;
  }

  [class*="modal"],
  [class*="Modal"],
  .absolute[class*="Menu"],
  .fixed[class*="Menu"] {
    transform: none !important;
  }
}
